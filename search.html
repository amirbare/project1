<!DOCTYPE html>
<html lang="en">

<head>
 <meta charset="utf-8">
 <title>Favorite Cards</title>
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" />
</head>

<body>
 <div class="container">
   <h1>Card Search</h1>

   <!-- This form will be where users input data about the Card -->
   <form id="card-form">
     <label for="Card-input">Search for a Card</label>
     <input type="text" id="Card-input"><br>

     <!-- This button will trigger our AJAX call -->
     <input id="find-Card" type="submit" value="Card Search">
   </form>

   <!-- We'll be dumping our JSON contents in here -->
   <div id="Card-view"></div>
 </div>



 <div id="movies-view"></div>
 <div id="title-view"></div>

   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
   <script type="text/javascript">
     // This .on("click") function will trigger the AJAX Call
     $("#find-Card").on("click", function (event) {

       // event.preventDefault() can be used to prevent an event's default behavior.
       // Here, it prevents the submit button from trying to submit a form when clicked
       event.preventDefault();

       // Here we grab the text from the input box
       var Card= $("#Card-input").val();

       // Here we construct our URL
       var queryURL = "https://omgvamp-hearthstone-v1.p.rapidapi.com/cards/search/" + Card ;

       // Write code between the dashes below to hit the queryURL with $ajax, then take the response data
       // and display it in the div with an id of movie-view

       // ------YOUR CODE GOES IN THESE DASHES. DO NOT MANUALLY EDIT THE HTML ABOVE.

       $.ajax({
         type: "GET",
        url: queryURL,
         headers: {
           "X-RapidAPI-Key": "18b735587amsh7315eaf4c142799p15afbbjsn27f60752768d",
           "X-RapidAPI-Host": "omgvamp-hearthstone-v1.p.rapidapi.com"
         }
       })
     .then(function (response) {
                   console.log(response);
                   cardImage = response[0].img;
                   console.log(cardImage);
                   cardName = response[0].name;
                   console.log(cardName);

                   $("#movies-view").append(cardName);
                   $("#title-view").append("<img src=" + cardImage + ">")


                   cardType = response[0].type;
                   console.log(cardType);
                   cardFaction = response[0].faction;
                   console.log(cardFaction);
                   cardRarity = response[0].rarity;
                   console.log(cardRarity);
                   playerClass = response[0].playerClass;
                   console.log(playerClass);
                   artistName = response[0].artist;
                   console.log(artistName);

                  //  $("#card-image").attr(src, response.image);
                   $("#card-name").html(response.name);
                   $("#card-type").text(response.type);
                   $("#card-faction").text(response.faction);
                   $("#card-rarity").text(response.rarity);
                   $("#player-class").text(response.playerClass);
                   $("#artist-name").text(response.artist);
               })
             })



   </script>
</body>

</html>